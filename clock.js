window.addEventListener("load", () => {

   const digits = {
      "0": [
         "┌", "─", "─", "┐",
         "│", "┌", "┐", "│",
         "│", "│", "│", "│",
         "│", "│", "│", "│",
         "│", "└", "┘", "│",
         "└", "─", "─", "┘",
      ],
      "1": [
         "┌", "─", "┐", " ",
         "└", "┐", "│", " ",
         " ", "│", "│", " ",
         " ", "│", "│", " ",
         "┌", "┘", "└", "┐",
         "└", "─", "─", "┘",
      ],
      "2": [
         "┌", "─", "─", "┐",
         "└", "─", "┐", "│",
         "┌", "─", "┘", "│",
         "│", "┌", "─", "┘",
         "│", "└", "─", "┐",
         "└", "─", "─", "┘",
      ],
      "3": [
         "┌", "─", "─", "┐",
         "└", "─", "┐", "│",
         " ", "┌", "┘", "│",
         " ", "└", "┐", "│",
         "┌", "─", "┘", "│",
         "└", "─", "─", "┘",
      ],
      "4": [
         "┌", "┐", "┌", "┐",
         "│", "│", "│", "│",
         "│", "└", "┘", "│",
         "└", "─", "┐", "│",
         " ", " ", "│", "│",
         " ", " ", "└", "┘",
      ],
      "5": [
         "┌", "─", "─", "┐",
         "│", "┌", "─", "┘",
         "│", "└", "─", "┐",
         "└", "─", "┐", "│",
         "┌", "─", "┘", "│",
         "└", "─", "─", "┘",
      ],
      "6": [
         "┌", "─", "─", "┐",
         "│", "┌", "─", "┘",
         "│", "└", "─", "┐",
         "│", "┌", "┐", "│",
         "│", "└", "┘", "│",
         "└", "─", "─", "┘",
      ],
      "7": [
         "┌", "─", "─", "┐",
         "└", "─", "┐", "│",
         " ", " ", "│", "│",
         " ", " ", "│", "│",
         " ", " ", "│", "│",
         " ", " ", "└", "┘",
      ],
      "8": [
         "┌", "─", "─", "┐",
         "│", "┌", "┐", "│",
         "│", "└", "┘", "│",
         "│", "┌", "┐", "│",
         "│", "└", "┘", "│",
         "└", "─", "─", "┘",
      ],
      "9": [
         "┌", "─", "─", "┐",
         "│", "┌", "┐", "│",
         "│", "└", "┘", "│",
         "└", "─", "┐", "│",
         "┌", "─", "┘", "│",
         "└", "─", "─", "┘",
      ],
   };

   const rotations = {
      "┌": ['0', '90'],
      "│": ['-90', '90'],
      "└": ['-90', '0'],
      "┐": ['180', '90'],
      "─": ['0', '180'],
      "┘": ['-90', '180'],
      " ": ['135', '135']
   }


   function updateDigit(digit, position) {
      let clockList = ((document.querySelectorAll('.digit'))[position]).querySelectorAll('.clock');

      clockList.forEach((clock, clockPosition) => {
         clock.querySelectorAll('.zeiger').forEach((zeiger, zeigerPosition) => {
            zeiger.style.transform = 'rotate(' + rotations[digits[digit][clockPosition]][zeigerPosition] + 'deg)';

         })
      });
   }

   setInterval(() => {
      const time = new Date().toLocaleTimeString("en-AT",{
         hour12: false,
         hour: "2-digit",
         minute: "2-digit",
         second: "2-digit",
      });


      (time.replace(/\D/g, "").split("")).forEach((value, position) => {
         updateDigit(value, position);
      });

   }, 1000);

});